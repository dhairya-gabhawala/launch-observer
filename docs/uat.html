<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Launch Observer — UAT Assertions Guide</title>
  <meta name="description" content="Comprehensive guide to Launch Observer UAT assertions, operators, scopes, and configuration options." />
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;500;600;700&family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      color-scheme: light;
      --slate-900: #0f172a;
      --slate-800: #1e293b;
      --slate-700: #334155;
      --slate-600: #475569;
      --slate-500: #64748b;
      --slate-200: #e2e8f0;
      --slate-100: #f1f5f9;
      --teal-600: #0f766e;
      --teal-500: #14b8a6;
      --amber-500: #f59e0b;
      --cream: #f8f7f2;
      --shadow: 0 28px 60px rgba(15, 23, 42, 0.16);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Source Sans 3", system-ui, -apple-system, sans-serif;
      color: var(--slate-900);
      background: radial-gradient(circle at 10% 10%, #e0f2fe, transparent 55%),
        radial-gradient(circle at 85% 18%, #ecfeff, transparent 50%),
        linear-gradient(180deg, #ffffff 0%, var(--cream) 100%);
      min-height: 100vh;
    }

    h1, h2, h3 {
      font-family: "Archivo", system-ui, -apple-system, sans-serif;
      margin: 0 0 0.75rem 0;
      letter-spacing: -0.02em;
    }

    p {
      margin: 0 0 1rem 0;
      color: var(--slate-600);
      font-size: 1.05rem;
      line-height: 1.6;
    }

    a { color: inherit; text-decoration: none; }

    .page {
      max-width: 1180px;
      margin: 0 auto;
      padding: 40px 24px 80px;
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .brand-mark {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      background: linear-gradient(135deg, #0f172a, #334155);
      display: grid;
      place-items: center;
      color: white;
      box-shadow: 0 12px 24px rgba(15, 23, 42, 0.25);
    }

    .brand-mark svg { width: 24px; height: 24px; stroke: white; }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      color: var(--slate-700);
      font-size: 0.95rem;
    }

    .nav-links a {
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.06);
      transition: all 0.2s ease;
    }

    .nav-links a:hover {
      background: rgba(15, 23, 42, 0.12);
    }

    .hero {
      margin-top: 48px;
      background: white;
      border-radius: 26px;
      padding: 28px 30px;
      box-shadow: var(--shadow);
      border: 1px solid var(--slate-100);
      margin-bottom: 30px;
    }

    .hero h1 { margin: 6px 0 10px; font-size: 2.2rem; color: var(--slate-900); }
    .hero p { margin: 0; color: var(--slate-600); max-width: 720px; }

    .section {
      margin-top: 28px;
      background: white;
      border-radius: 22px;
      padding: 24px;
      border: 1px solid var(--slate-100);
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.06);
    }

    .section-title {
      margin: 0 0 6px;
      font-size: 1.45rem;
      color: var(--slate-900);
    }

    .section-sub { color: var(--slate-600); margin: 0 0 14px; }

    .grid-two {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }

    .card.span-full {
      grid-column: 1 / -1;
    }

    .card {
      border: 1px solid var(--slate-200);
      border-radius: 16px;
      padding: 16px;
      background: var(--white);
    }

    .card h3 { margin: 0 0 8px; font-size: 1.05rem; }
    .card p { margin: 0; color: var(--slate-600); }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.92rem;
    }

    th, td {
      text-align: left;
      padding: 10px 12px;
      border-bottom: 1px solid var(--slate-100);
      vertical-align: top;
    }

    th { color: var(--slate-700); font-weight: 700; background: var(--slate-100); }

    code, pre {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    pre {
      background: #ffffff;
      border: 1px solid var(--slate-200);
      border-radius: 14px;
      padding: 14px;
      overflow-x: auto;
      font-size: 0.85rem;
      color: var(--slate-700);
    }

    .code-block {
      background: #f8fafc;
      border-color: var(--slate-200);
      line-height: 1.55;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 600;
      background: var(--slate-100);
      color: var(--slate-700);
    }

    .footer {
      margin-top: 28px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
      color: var(--slate-500);
      font-size: 0.9rem;
    }

    @media (max-width: 720px) {
      .nav { flex-direction: column; align-items: flex-start; }
      .hero { padding: 22px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <nav class="nav">
      <a class="brand" href="index.html" aria-label="Launch Observer home">
        <div class="brand-mark" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" />
          </svg>
        </div>
        <div>
          <div style="font-weight:700; font-size:1.05rem;">Launch Observer</div>
          <div style="font-size:0.85rem; color:var(--slate-500);">UAT Assertions Guide</div>
        </div>
      </a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="#structure">Structure</a>
        <a href="#operators">Operators</a>
        <a href="#examples">Examples</a>
        <a href="privacy.html">Privacy</a>
      </div>
    </nav>

    <section class="hero">
      <div class="pill">UAT Documentation</div>
      <h1>UAT assertions: complete configuration guide</h1>
      <p>Use this reference to build, validate, and interpret UAT assertion files. It explains every operator, scope, condition source, and count rule supported by Launch Observer.</p>
    </section>

    <section id="structure" class="section">
      <h2 class="section-title">1. File structure</h2>
      <p class="section-sub">Every UAT configuration is a JSON file with a site identifier and an array of assertion rules.</p>
      <div class="grid-two">
        <div class="card">
          <h3>Required keys</h3>
          <p><strong>siteId</strong> (string), <strong>assertions</strong> (array)</p>
        </div>
        <div class="card">
          <h3>Optional keys</h3>
          <p><strong>siteName</strong> (string), per-assertion <strong>title</strong> and <strong>description</strong></p>
        </div>
      </div>
      <pre><code>{
  "siteId": "example-site",
  "siteName": "Example Site",
  "assertions": [
    {
      "id": "pageview-once",
      "title": "Pageview fires only once",
      "logic": "all",
      "conditions": [
        {
          "source": "payload",
          "path": "events[0].xdm.eventType",
          "operator": "equals",
          "expected": "web.webpagedetails.pageViews"
        }
      ],
      "scope": "page",
      "count": "exactly",
      "value": 1
    }
  ]
}</code></pre>
    </section>

    <section class="section">
      <h2 class="section-title">2. Assertion fields</h2>
      <p class="section-sub">Assertions describe what should be true for a request or a page.</p>
      <table>
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Required</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>id</td><td>string</td><td>Yes</td><td>Unique identifier for the rule.</td></tr>
          <tr><td>title</td><td>string</td><td>No</td><td>Displayed in UI and reports.</td></tr>
          <tr><td>description</td><td>string</td><td>No</td><td>Helpful context for teammates.</td></tr>
          <tr><td>logic</td><td>"all" | "any"</td><td>No</td><td>Defaults to <strong>all</strong>.</td></tr>
          <tr><td>scope</td><td>"request" | "page"</td><td>No</td><td>Defaults to <strong>request</strong>.</td></tr>
          <tr><td>conditions</td><td>array</td><td>Yes</td><td>One or more condition objects.</td></tr>
          <tr><td>count</td><td>"exactly" | "at_least" | "at_most"</td><td>Only if scope=page</td><td>Use with <strong>value</strong>.</td></tr>
          <tr><td>value</td><td>number</td><td>Only if scope=page</td><td>The expected count.</td></tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2 class="section-title">3. Condition fields</h2>
      <p class="section-sub">Conditions define where to look (source + path) and how to compare (operator + expected).</p>
      <table>
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Required</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>source</td><td>"payload" | "query" | "headers" | "raw"</td><td>No</td><td>Defaults to <strong>payload</strong>.</td></tr>
          <tr><td>path</td><td>string</td><td>Yes (unless source=raw)</td><td>Dotted path or array index (e.g. <code>events[0].xdm.eventType</code>).</td></tr>
          <tr><td>operator</td><td>string</td><td>Yes</td><td>See operators table below.</td></tr>
          <tr><td>expected</td><td>string | number | array</td><td>Required for most operators</td><td>Not needed for <strong>exists</strong> or <strong>not_exists</strong>.</td></tr>
        </tbody>
      </table>
    </section>

    <section id="operators" class="section">
      <h2 class="section-title">4. Operators reference</h2>
      <p class="section-sub">Use operators to express equality, matching, and numeric comparisons.</p>
      <table>
        <thead>
          <tr>
            <th>Operator</th>
            <th>Description</th>
            <th>Expected type</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>exists</td><td>Value is present and not empty.</td><td>None</td></tr>
          <tr><td>not_exists</td><td>Value is missing or empty.</td><td>None</td></tr>
          <tr><td>equals</td><td>Exact match.</td><td>string/number</td></tr>
          <tr><td>contains</td><td>Value includes substring.</td><td>string</td></tr>
          <tr><td>starts_with</td><td>Value starts with substring.</td><td>string</td></tr>
          <tr><td>ends_with</td><td>Value ends with substring.</td><td>string</td></tr>
          <tr><td>regex</td><td>Value matches regex.</td><td>string (regex)</td></tr>
          <tr><td>in</td><td>Value is one of expected list.</td><td>array</td></tr>
          <tr><td>not_in</td><td>Value is not in expected list.</td><td>array</td></tr>
          <tr><td>gt</td><td>Greater than.</td><td>number</td></tr>
          <tr><td>gte</td><td>Greater than or equal.</td><td>number</td></tr>
          <tr><td>lt</td><td>Less than.</td><td>number</td></tr>
          <tr><td>lte</td><td>Less than or equal.</td><td>number</td></tr>
          <tr><td>range</td><td>Between min and max (inclusive).</td><td>array [min, max]</td></tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2 class="section-title">5. Scope + count rules</h2>
      <p class="section-sub">Request scope checks a single request; page scope validates the total count of matches per page view.</p>
      <div class="grid-two">
        <div class="card">
          <h3>Request scope</h3>
          <p>Validates the current request only. Use for event types, query params, headers, and payload values.</p>
        </div>
        <div class="card">
          <h3>Page scope</h3>
          <p>Validates how many matching requests occurred on the same page. Use with <strong>count</strong> and <strong>value</strong>.</p>
        </div>
      </div>
      <pre class="code-block"><code>{
  "id": "pageview-once",
  "logic": "all",
  "scope": "page",
  "count": "exactly",
  "value": 1,
  "conditions": [
    {
      "source": "payload",
      "path": "events[0].xdm.eventType",
      "operator": "equals",
      "expected": "web.webpagedetails.pageViews"
    }
  ]
}</code></pre>
    </section>

    <section id="examples" class="section">
      <h2 class="section-title">6. Practical examples</h2>
      <p class="section-sub">Copy and adapt these patterns to your own analytics signals.</p>
      <div class="grid-two">
        <div class="card">
          <h3>Query parameter equals</h3>
          <pre class="code-block"><code>{
  "id": "config-id",
  "logic": "all",
  "conditions": [
    {
      "source": "query",
      "path": "configId",
      "operator": "equals",
      "expected": "abc123"
    }
  ]
}</code></pre>
        </div>
        <div class="card">
          <h3>Header exists</h3>
          <pre class="code-block"><code>{
  "id": "content-type",
  "logic": "all",
  "conditions": [
    {
      "source": "headers",
      "path": "content-type",
      "operator": "exists"
    }
  ]
}</code></pre>
        </div>
        <div class="card">
          <h3>Raw body contains</h3>
          <pre class="code-block"><code>{
  "id": "raw-contains",
  "logic": "all",
  "conditions": [
    {
      "source": "raw",
      "path": "",
      "operator": "contains",
      "expected": "pageName"
    }
  ]
}</code></pre>
        </div>
        <div class="card span-full">
          <h3>Any logic example</h3>
          <pre class="code-block"><code>{
  "id": "event-type-any",
  "logic": "any",
  "conditions": [
    {
      "source": "payload",
      "path": "events[0].xdm.eventType",
      "operator": "equals",
      "expected": "web.webpagedetails.pageViews"
    },
    {
      "source": "payload",
      "path": "events[0].xdm.eventType",
      "operator": "equals",
      "expected": "web.webinteraction.linkClicks"
    }
  ]
}</code></pre>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">7. Best practices</h2>
      <ul class="section-sub" style="margin-top:0;">
        <li>Start with a template and remove what you don’t need.</li>
        <li>Keep IDs stable so your reports remain consistent.</li>
        <li>Use page-scope rules sparingly for unique events (pageviews, first-load events).</li>
        <li>Prefer <strong>exists</strong> for required fields, then add <strong>equals</strong> for critical values.</li>
      </ul>
    </section>

    <footer class="footer">
      <div>Launch Observer • UAT Assertions Guide</div>
      <div>
        <a href="index.html">Home</a>
        ·
        <a href="uat.html">UAT Docs</a>
        ·
        <a href="privacy.html">Privacy</a>
      </div>
    </footer>
  </div>
</body>
</html>
